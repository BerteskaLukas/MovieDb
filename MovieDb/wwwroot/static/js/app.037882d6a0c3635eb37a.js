webpackJsonp([1],{"0tTC":function(e,t){},"A+hp":function(e,t){},BFlL:function(e,t){},NHnr:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r("d7EF"),o=r.n(a),s=r("7+uW"),i={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"container"},[t("router-view")],1)},staticRenderFns:[]};var n=r("VU/8")({name:"App"},i,!1,function(e){r("uwyI")},null,null).exports,c=r("sUu7"),l=r("/ocq"),v=r("Dd8w"),d=r.n(v),u=r("NYxO"),m={name:"DeleteActor",props:["Movie","Actor"],computed:d()({},Object(u.d)("movies",{movies:"movies"})),created:function(){this.AllMovies()},methods:d()({cancel:function(){this.$emit("cancel")}},Object(u.b)("movies",["AllMovies","EditMovie","ShowMovies"]),Object(u.b)("actors",["DeleteActor"]),{delActInMv:function(e,t){for(var r=void 0,a=0;a<this.movies.length;a++)e.movieId==this.movies[a].movieId&&(r=this.movies[a]);for(var o=0;o<e.movieActors.length;o++)t.actorId!=e.movieActors[o].actorId&&r.movieActors.push({actorId:e.movieActors[o].actorId,movieId:r.movieId});this.EditMovie(r),this.cancel()},delAct:function(e){this.DeleteActor(e.actorId),this.ShowMovies(),this.cancel()}})},h={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",{staticClass:"del",on:{click:function(t){return e.delActInMv(e.Movie,e.Actor)}}},[e._v(" Delete "+e._s(e.Actor.name)+" from "+e._s(e.Movie.title)+" ")]),e._v(" "),r("div",{staticClass:"del",on:{click:function(t){return e.delAct(e.Actor)}}},[e._v("Delete "+e._s(e.Actor.name)+" from all movies ")]),e._v(" "),r("div",{staticClass:"cancel",on:{click:function(t){return e.cancel()}}},[e._v(" Cancel")])])},staticRenderFns:[]};var f=r("VU/8")(m,h,!1,function(e){r("zyBM")},"data-v-00d3cdd6",null).exports,p={name:"DeleteMovie",props:["Movie"],methods:d()({cancel:function(){this.$emit("canceled")}},Object(u.b)("movies",["DeleteMovie"]),{deleteMv:function(e){this.DeleteMovie(e)}})},_={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("h2",[e._v("Do you really want to delete "+e._s(e.Movie.title)+"  ?")]),e._v(" "),r("div",[r("div",{staticClass:"del",on:{click:function(t){return e.deleteMv(e.Movie)}}},[e._v("Yes")]),e._v(" "),r("div",{staticClass:"cancel",on:{click:function(t){return e.cancel()}}},[e._v(" No")])])])},staticRenderFns:[]};var A={components:{deleteMovie:r("VU/8")(p,_,!1,function(e){r("qa/1")},null,null).exports,deleteActor:f},name:"MovieDb",computed:d()({},Object(u.d)("movies",{allMovies:"showMovies"}),Object(u.d)("actors",{allActors:"actors"}),Object(u.d)("actors",{Actors:"showActors"}),{filterMovies:function(){var e=this;switch(this.searchSelect){case"title":return this.allMovies.filter(function(t){return t.title.match(e.search)});case"releasYear":return this.allMovies.filter(function(t){return t.releasYear.toString().match(e.search)});case"genre":return this.allMovies.filter(function(t){return e.genre(t.genre).toLowerCase().match(e.search)});case"movieActors":for(var t=this.Actors.filter(function(t){return t.name.match(e.search)}),r=[],a=0;a<t.length;a++)for(var o=0;o<t[a].movieActors.length;o++)for(var s=function(s){t[a].movieActors[o].movieId===e.allMovies[s].movieId&&null==r.find(function(t){return t.movieId==e.allMovies[s].movieId})&&r.push(e.allMovies[s])},i=0;i<this.allMovies.length;i++)s(i);return""===this.search?this.allMovies:r;default:return this.allMovies}}}),data:function(){return{showDelMv:"",showDelAct:"",showDelActMv:"",search:"",searchSelect:""}},created:function(){this.ShowMovies(),this.ShowActors(),this.AllActors()},methods:d()({actInMv:function(e){for(var t=[],r=0;r<e.movieActors.length;r++)for(var a=0;a<this.allActors.length;a++)e.movieActors[r].actorId==this.allActors[a].actorId&&t.push(this.allActors[a]);return t},delAct:function(e,t){this.showDelAct=t,this.showDelActMv=e},cacelel:function(){this.showDelMv="",this.showDelAct="",this.showDelActMv="",this.ShowMovies()},delMv:function(e){this.showDelMv=e.movieId},navigation:function(e){this.$router.push({name:e})}},Object(u.b)("movies",["ShowMovies"]),Object(u.b)("actors",["ShowActors","AllActors"]),{genre:function(e){switch(e){case 1:return"Action";case 2:return"Fantasy";case 3:return"Drame";default:return"None"}}})},g={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",{staticClass:"navigation"},[r("button",{on:{click:function(t){return e.navigation("AddMovie")}}},[e._v("Add new movie")]),e._v(" "),r("button",{on:{click:function(t){return e.navigation("AddActor")}}},[e._v("Add new actor")]),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.search,expression:"search"}],attrs:{type:"text",placeholder:"Search"},domProps:{value:e.search},on:{input:function(t){t.target.composing||(e.search=t.target.value)}}}),e._v(" "),r("select",{directives:[{name:"model",rawName:"v-model",value:e.searchSelect,expression:"searchSelect"}],on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.searchSelect=t.target.multiple?r:r[0]}}},[r("option",{attrs:{value:"title"}},[e._v("Title")]),e._v(" "),r("option",{attrs:{value:"releasYear"}},[e._v("Releas Date")]),e._v(" "),r("option",{attrs:{value:"genre"}},[e._v("Genre")]),e._v(" "),r("option",{attrs:{value:"movieActors"}},[e._v("Actor")])])]),e._v(" "),r("table",{staticClass:"table"},[e._m(0),e._v(" "),e._l(e.filterMovies,function(t,a){return r("tbody",{key:a},[r("tr",[r("td",[e._v(e._s(t.title))]),e._v(" "),r("td",[e._v(e._s(t.releasYear))]),e._v(" "),r("td",{staticClass:"genre"},[r("div",[e._v(e._s(e.genre(t.genre)))])]),e._v(" "),r("td",[r("router-link",{staticClass:"edit",attrs:{to:{name:"EditMovie",params:{id:t.movieId}}}},[e._v("edit")]),e._v(" "),r("button",{staticClass:"delete",on:{click:function(r){return e.delMv(t)}}},[e._v("delete")])],1),e._v(" "),r("td",e._l(e.actInMv(t),function(a,o){return r("ul",{key:o,staticClass:"actors"},[r("div",[e._v(e._s(a.name))]),e._v(" "),r("router-link",{staticClass:"edit",attrs:{to:{name:"EditActor",params:{id:a.actorId}}}},[e._v("edit")]),e._v(" "),r("button",{staticClass:"delete",on:{click:function(r){return e.delAct(t.movieId,a.actorId)}}},[e._v("delete")])],1)}),0)]),e._v(" "),t.movieId==e.showDelMv?r("tr",[r("td",{attrs:{colspan:"4"}},[r("deleteMovie",{attrs:{Movie:t},on:{canceled:e.cacelel}})],1)]):e._e(),e._v(" "),e._l(e.actInMv(t),function(a,o){return r("tr",{key:o},[t.movieId==e.showDelActMv&&a.actorId==e.showDelAct?r("td",{attrs:{colspan:"4"}},[r("deleteActor",{attrs:{Movie:t,Actor:a},on:{cancel:function(t){return e.cacelel()}}})],1):e._e()])})],2)})],2)])},staticRenderFns:[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("thead",[r("tr",[r("th",[e._v("Title")]),e._v(" "),r("th",[e._v("Release Date")]),e._v(" "),r("th",[e._v("Genre")]),e._v(" "),r("th"),e._v(" "),r("th",[e._v("Actors")])])])}]};var M=r("VU/8")(A,g,!1,function(e){r("A+hp")},null,null).exports,b={methods:{selectedObj:function(e,t){for(var r=[],a=0;a<e.length;a++)if(!0===e[a].selected)for(var o=0;o<t.length;o++)e[a].id!==t[o].movieId&&e[a].id!==t[o].actorId||r.push(t[o]);return r},select:function(e,t,r){for(var a=0;a<r.length;a++)r[a].hasOwnProperty("actorId")?e.movieActors.push({actorId:r[a].actorId,movieId:1+t}):e.movieActors.push({actorId:t+1,movieId:r[a].movieId});return e},navigation:function(e){this.$router.push({name:e})}}};s.a.use(c.b);var w={name:"AddMovie",data:function(){return{movie:{title:"",releasYear:"",genre:"None",movieActors:[]}}},computed:d()({},Object(u.d)("actors",{allActors:"actors"}),Object(u.c)("actors",{selectedActors:"selectedActros"}),Object(u.c)("movies",{lastId:"lastId"})),mixins:[b],created:function(){this.AllActors(),this.AllMovies()},methods:d()({addMovie:function(e){var t=this,r=this.selectedObj(this.selectedActors,this.allActors);this.$validator.validateAll().then(function(a){a&&(0!=r.length?t.AddMovie(t.select(e,t.lastId,r)):t.AddMovie(e),t.navigation("MovieDb"))})}},Object(u.b)("movies",["AddMovie","AllMovies"]),Object(u.b)("actors",["AllActors"]))},I={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("h1",[e._v("Add Movie")]),e._v(" "),r("form",[r("div",[r("label",[e._v("Title")]),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.movie.title,expression:"movie.title"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],class:{"form-control":!0,error:e.errors.has("Title")},attrs:{type:"text",name:"Title"},domProps:{value:e.movie.title},on:{input:function(t){t.target.composing||e.$set(e.movie,"title",t.target.value)}}}),e._v(" "),r("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("Title"),expression:"errors.has('Title')"}],staticClass:"text-danger"},[e._v(e._s(e.errors.first("Title")))])]),e._v(" "),r("div",{staticClass:"form-group"},[r("label",{staticClass:"control-label",attrs:{for:"Releas Year"}},[e._v("Releas Year")]),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.movie.releasYear,expression:"movie.releasYear"},{name:"validate",rawName:"v-validate",value:"required|releasYear:1888",expression:"'required|releasYear:1888'"}],staticClass:"form-control",class:{error:e.errors.has("Releas Year")},attrs:{type:"age",name:"Releas Year"},domProps:{value:e.movie.releasYear},on:{input:function(t){t.target.composing||e.$set(e.movie,"releasYear",t.target.value)}}}),e._v(" "),r("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("Releas Year"),expression:"errors.has('Releas Year')"}],staticClass:"text-danger"},[e._v(e._s(e.errors.first("Releas Year")))])]),e._v(" "),r("div",{staticClass:"form-group"},[r("div",{staticClass:"input-group mb-3"},[e._m(0),e._v(" "),r("select",{directives:[{name:"model",rawName:"v-model",value:e.movie.genre,expression:"movie.genre"}],staticClass:"custom-select",on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.$set(e.movie,"genre",t.target.multiple?r:r[0])}}},[r("option",{attrs:{value:"None"}},[e._v("None")]),e._v(" "),r("option",{attrs:{value:"Action"}},[e._v("Action")]),e._v(" "),r("option",{attrs:{value:"Fantasy"}},[e._v("Fantasy")]),e._v(" "),r("option",{attrs:{value:"Drama"}},[e._v("Drama")])])])]),e._v(" "),r("div",{staticClass:"form-group"},[r("h2",[e._v("Actors")]),e._v(" "),e._l(e.selectedActors,function(t,a){return r("div",{key:a},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.selected,expression:"actor.selected"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.selected)?e._i(t.selected,null)>-1:t.selected},on:{change:function(r){var a=t.selected,o=r.target,s=!!o.checked;if(Array.isArray(a)){var i=e._i(a,null);o.checked?i<0&&e.$set(t,"selected",a.concat([null])):i>-1&&e.$set(t,"selected",a.slice(0,i).concat(a.slice(i+1)))}else e.$set(t,"selected",s)}}}),e._v(" "),r("label",{attrs:{for:"checkbox"}},[e._v(e._s(t.name))])])})],2),e._v(" "),r("div",{staticClass:"btn btn-group-lg btn-danger",on:{click:function(t){return e.addMovie(e.movie)}}},[e._v("Add movie")]),e._v(" "),r("div",{staticClass:"btn btn-group-lg btn-primary",on:{click:function(t){return e.navigation("MovieDb")}}},[e._v("Cancel")])])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"input-group-prepend"},[t("label",{staticClass:"input-group-text"},[this._v("Genre")])])}]};var x=r("VU/8")(w,I,!1,function(e){r("0tTC")},"data-v-9f60cc1e",null).exports,C=r("//Fk"),y=r.n(C);s.a.use(c.b);var N={name:"AddActor",computed:d()({},Object(u.d)("movies",{allMovies:"movies"}),Object(u.c)("movies",{selectedMovies:"selectedMovies"}),Object(u.c)("actors",{lastId:"lastId"})),data:function(){return{actor:{movieActors:[]}}},mixins:[b],created:function(){this.AllMovies(),this.AllActors()},methods:d()({addActor:function(e){var t=this,r=this.selectedObj(this.selectedMovies,this.allMovies);this.$validator.validateAll().then(function(a){if(a){var o=t,s=new y.a(function(t,a){0!=r.length?o.AddActor(o.select(e,o.lastId,r)):o.AddActor(e),t()}),i=new y.a(function(e,t){e(o.ShowMovies())});s.then(function(){i.then(function(){t.navigation("MovieDb")})})}})}},Object(u.b)("actors",["AddActor","AllActors"]),Object(u.b)("movies",["AllMovies","ShowMovies"]))},k={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("h1",[e._v("Add Actor")]),e._v(" "),r("form",[r("div",{staticClass:"form-group"},[r("label",[e._v("Name")]),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.actor.name,expression:"actor.name"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],class:{"form-control":!0,error:e.errors.has("Name")},attrs:{type:"text",name:"Name"},domProps:{value:e.actor.name},on:{input:function(t){t.target.composing||e.$set(e.actor,"name",t.target.value)}}}),e._v(" "),r("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("Name"),expression:"errors.has('Name')"}],staticClass:"text-danger"},[e._v(e._s(e.errors.first("Name")))])]),e._v(" "),r("div",{staticClass:"form-group"},[r("label",[e._v("Age")]),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.actor.age,expression:"actor.age"},{name:"validate",rawName:"v-validate",value:"required|age:86",expression:"'required|age:86'"}],class:{"form-control":!0,error:e.errors.has("Age")},attrs:{type:"age",name:"Age"},domProps:{value:e.actor.age},on:{input:function(t){t.target.composing||e.$set(e.actor,"age",t.target.value)}}}),e._v(" "),r("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("Age"),expression:"errors.has('Age')"}],staticClass:"text-danger"},[e._v(e._s(e.errors.first("Age")))])]),e._v(" "),r("div",{staticClass:"form-group"},[r("h2",[e._v("Movies")]),e._v(" "),e._l(e.selectedMovies,function(t,a){return r("div",{key:a},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.selected,expression:"movie.selected"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.selected)?e._i(t.selected,null)>-1:t.selected},on:{change:function(r){var a=t.selected,o=r.target,s=!!o.checked;if(Array.isArray(a)){var i=e._i(a,null);o.checked?i<0&&e.$set(t,"selected",a.concat([null])):i>-1&&e.$set(t,"selected",a.slice(0,i).concat(a.slice(i+1)))}else e.$set(t,"selected",s)}}}),e._v(" "),r("label",{attrs:{for:"checkbox"}},[e._v(e._s(t.title))])])})],2),e._v(" "),r("div",{staticClass:"btn btn-group-lg btn-danger",on:{click:function(t){return e.addActor(e.actor)}}},[e._v("Add Actor")]),e._v(" "),r("div",{staticClass:"btn btn-group-lg btn-primary",on:{click:function(t){return e.navigation("MovieDb")}}},[e._v("Cancel")])])])},staticRenderFns:[]};var D=r("VU/8")(N,k,!1,function(e){r("BFlL")},"data-v-e3e2a752",null).exports;s.a.use(c.b);var $={name:"EditMovie",computed:d()({},Object(u.d)("movies",{ShowMovies:"showMovies"}),Object(u.d)("actors",{allActors:"actors"}),{mv:function(){var e=this;return this.ShowMovies.find(function(t){return t.movieId===e.$route.params.id})}},Object(u.c)("actors",{selectedActors:"selectedActros"})),data:function(){return{movie:{}}},mixins:[b],beforeMount:function(){this.values()},beforeUpdate:function(){this.selectedAct()},methods:d()({selectedAct:function(){for(var e=this,t=function(t){e.selectedActors.forEach(function(r){e.mv.movieActors[t].actorId===r.id&&(r.selected=!0)})},r=0;r<this.mv.movieActors.length;r++)t(r)},Edit:function(e){var t=this,r=this.selectedObj(this.selectedActors,this.allActors),a=this.movie.movieId-1;this.$validator.validateAll().then(function(o){o&&(t.EditMovie(t.select(e,a,r)),t.navigation("MovieDb"))})},genre:function(e){switch(e){case 1:return this.Genre="Action";case 2:return this.Genre="Fantasy";case 3:return this.Genre="Drame";default:return this.Genre="None"}},values:function(){this.movie.movieId=this.mv.movieId,this.movie.title=this.mv.title,this.movie.releasYear=this.mv.releasYear,this.movie.genre=this.genre(this.mv.genre),this.movie.movieActors=[]}},Object(u.b)("movies",["EditMovie"]))},Y={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("h1",[e._v("Edit Movie")]),e._v(" "),r("form",[r("div",{staticClass:"form-group"},[r("label",[e._v("Title")]),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.movie.title,expression:"movie.title"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control",class:{"form-control":!0,error:e.errors.has("Title")},attrs:{type:"text",name:"Title"},domProps:{value:e.movie.title},on:{input:function(t){t.target.composing||e.$set(e.movie,"title",t.target.value)}}}),e._v(" "),r("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("Title"),expression:"errors.has('Title')"}],staticClass:"text-danger"},[e._v(e._s(e.errors.first("Title")))])]),e._v(" "),r("div",{staticClass:"form-group"},[r("label",[e._v("Release Year")]),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.movie.releasYear,expression:"movie.releasYear"},{name:"validate",rawName:"v-validate",value:"required|releasYear:1888",expression:"'required|releasYear:1888'"}],staticClass:"form-control",class:{"form-control":!0,error:e.errors.has("Releas Year")},attrs:{name:"Releas Year",type:"age"},domProps:{value:e.movie.releasYear},on:{input:function(t){t.target.composing||e.$set(e.movie,"releasYear",t.target.value)}}}),e._v(" "),r("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("Releas Year"),expression:"errors.has('Releas Year')"}],staticClass:"text-danger"},[e._v(e._s(e.errors.first("Releas Year")))])]),e._v(" "),r("div",{staticClass:"form-group"},[r("div",{staticClass:"input-group mb-3"},[e._m(0),e._v(" "),r("select",{directives:[{name:"model",rawName:"v-model",value:e.movie.genre,expression:"movie.genre"}],staticClass:"custom-select",on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.$set(e.movie,"genre",t.target.multiple?r:r[0])}}},[r("option",[e._v("None")]),e._v(" "),r("option",[e._v("Action")]),e._v(" "),r("option",[e._v("Fantasy")]),e._v(" "),r("option",[e._v("Drama")])])])]),e._v(" "),r("div",{staticClass:"form-group"},[r("h2",[e._v("Actors")]),e._v(" "),e._l(e.selectedActors,function(t,a){return r("div",{key:a},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.selected,expression:"actor.selected"}],attrs:{type:"checkbox"},domProps:{checked:t.selected,checked:Array.isArray(t.selected)?e._i(t.selected,null)>-1:t.selected},on:{change:function(r){var a=t.selected,o=r.target,s=!!o.checked;if(Array.isArray(a)){var i=e._i(a,null);o.checked?i<0&&e.$set(t,"selected",a.concat([null])):i>-1&&e.$set(t,"selected",a.slice(0,i).concat(a.slice(i+1)))}else e.$set(t,"selected",s)}}}),e._v(" "),r("label",[e._v(e._s(t.name))])])})],2),e._v(" "),r("div",[r("div",{staticClass:"btn btn-danger btn-group-long",on:{click:function(t){return e.Edit(e.movie)}}},[e._v("Edit")]),e._v(" "),r("div",{staticClass:"btn btn-warning btn-group-long",on:{click:function(t){return e.navigation("MovieDb")}}},[e._v("Cancel")])])])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"input-group-prepend"},[t("label",{staticClass:"input-group-text"},[this._v("Genre")])])}]};var E=r("VU/8")($,Y,!1,function(e){r("heYU")},"data-v-611ab97d",null).exports;s.a.use(c.b);var O={name:"EditActor",computed:d()({},Object(u.d)("actors",{Actors:"showActors"}),Object(u.d)("movies",{allMovies:"movies"}),{act:function(){var e=this,t=this.Actors.find(function(t){return t.actorId===e.$route.params.id});return t}},Object(u.c)("movies",{selectedMovies:"selectedMovies"})),data:function(){return{actor:{}}},mixins:[b],created:function(){this.AllMovies()},beforeMount:function(){this.values()},beforeUpdate:function(){this.selectedMv()},methods:d()({editAct:function(e){var t=this,r=this.selectedObj(this.selectedMovies,this.allMovies),a=this.actor.actorId-1;this.$validator.validateAll().then(function(o){if(o){var s=t;new y.a(function(t,o){t(s.EditActor(s.select(e,a,r)))}).then(function(){return t.navigation("MovieDb")})}})},values:function(){this.actor.actorId=this.act.actorId,this.actor.name=this.act.name,this.actor.age=this.act.age,this.actor.movieActors=[]}},Object(u.b)("actors",["EditActor"]),Object(u.b)("movies",["AllMovies"]),{selectedMv:function(){for(var e=this,t=function(t){e.selectedMovies.forEach(function(r){e.act.movieActors[t].movieId===r.id&&(r.selected=!0)})},r=0;r<this.act.movieActors.length;r++)t(r)}})},j={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("h1",[e._v("Edit Actor")]),e._v(" "),r("form",[r("div",{staticClass:"form-group"},[r("label",[e._v("Name")]),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.actor.name,expression:"actor.name"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control",class:{"form-control":!0,error:e.errors.has("Name")},attrs:{type:"text",name:"Name"},domProps:{value:e.actor.name},on:{input:function(t){t.target.composing||e.$set(e.actor,"name",t.target.value)}}}),e._v(" "),r("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("Name"),expression:"errors.has('Name')"}],staticClass:"text-danger"},[e._v(e._s(e.errors.first("Name")))])]),e._v(" "),r("div",{staticClass:"form-group"},[r("label",[e._v("Age")]),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.actor.age,expression:"actor.age"},{name:"validate",rawName:"v-validate",value:"required|age:86",expression:"'required|age:86'"}],staticClass:"form-control",class:{"form-control":!0,error:e.errors.has("Age")},attrs:{name:"Age",type:"age"},domProps:{value:e.actor.age},on:{input:function(t){t.target.composing||e.$set(e.actor,"age",t.target.value)}}}),e._v(" "),r("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("Age"),expression:"errors.has('Age')"}],staticClass:"text-danger"},[e._v(e._s(e.errors.first("Age")))])]),e._v(" "),r("div",{staticClass:"form-group"},[r("h2",[e._v("Movies")]),e._v(" "),e._l(e.selectedMovies,function(t,a){return r("div",{key:a},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.selected,expression:"movie.selected"}],attrs:{type:"checkbox"},domProps:{checked:t.selected,checked:Array.isArray(t.selected)?e._i(t.selected,null)>-1:t.selected},on:{change:function(r){var a=t.selected,o=r.target,s=!!o.checked;if(Array.isArray(a)){var i=e._i(a,null);o.checked?i<0&&e.$set(t,"selected",a.concat([null])):i>-1&&e.$set(t,"selected",a.slice(0,i).concat(a.slice(i+1)))}else e.$set(t,"selected",s)}}}),e._v(" "),r("label",[e._v(e._s(t.title))])])})],2),e._v(" "),r("div",{staticClass:"btn btn-group-lg btn-danger",on:{click:function(t){return e.editAct(e.actor)}}},[e._v("Edit Actor")]),e._v(" "),r("div",{staticClass:"btn btn-group-lg btn-primary",on:{click:function(t){return e.navigation("MovieDb")}}},[e._v("Cancel")])])])},staticRenderFns:[]};var S=r("VU/8")(O,j,!1,function(e){r("f7EM")},"data-v-36edf916",null).exports;s.a.use(l.a);var R=new l.a({mode:"history",routes:[{path:"/",name:"MovieDb",component:M},{path:"/addmovie",name:"AddMovie",component:x},{path:"/addactor",name:"AddActor",component:D},{path:"/editmovie/:id",name:"EditMovie",component:E},{path:"/editactor/:id",name:"EditActor",component:S}]}),q=r("mtWM"),F=r.n(q),T={namespaced:!0,state:{movies:[],showMovies:[]},actions:{AddMovie:function(e,t){var r=e.dispatch;F.a.post("https://localhost:5001/api/movies",t).then(function(){return r("ShowMovies")})},AllMovies:function(e){var t=e.commit;F.a.get("https://localhost:5001/api/movies").then(function(e){return t("allMovies",e.data)})},ShowMovies:function(e){var t=e.commit;return new y.a(function(e){F.a.get("https://localhost:5001/api/movies/all").then(function(r){t("loadMovies",r.data),e("Done")})})},EditMovie:function(e,t){var r=e.dispatch,a="https://localhost:5001/api/movies/"+t.movieId;F.a.put(a,t).then(function(){return r("ShowMovies")})},DeleteMovie:function(e,t){var r=e.dispatch,a="https://localhost:5001/api/movies/"+t.movieId;F.a.delete(a).then(function(){return r("ShowMovies")})}},getters:{lastId:function(e){return 0===e.movies.length?0:e.movies[e.movies.length-1].movieId},selectedMovies:function(e){return e.movies.map(function(e){return{id:e.movieId,title:e.title,releasYear:e.releasYear,genre:e.genre,selected:!1}})}},mutations:{allMovies:function(e,t){e.movies=t},addMovie:function(e,t){e.movies.push(t)},loadMovies:function(e,t){e.showMovies=t}}},P={namespaced:!0,state:{actors:[],showActors:[]},actions:{AddActor:function(e,t){var r=e.dispatch;F.a.post("https://localhost:5001/api/actors",t).then(function(){return r("AllActors")})},AllActors:function(e){var t=e.commit;F.a.get("https://localhost:5001/api/actors").then(function(e){return t("allActors",e.data)})},ShowActors:function(e){var t=e.commit;F.a.get("https://localhost:5001/api/actors/all").then(function(e){return t("showActors",e.data)})},DeleteActor:function(e,t){var r=e.dispatch,a="https://localhost:5001/api/actors/"+t;F.a.delete(a).then(function(){return r("AllActors")})},EditActor:function(e,t){var r=e.dispatch;return new y.a(function(e){var a="https://localhost:5001/api/actors/"+t.actorId;F.a.put(a,t).then(function(){r("ShowActors","AllActors"),e("Done")})})}},mutations:{allActors:function(e,t){e.actors=t},showActors:function(e,t){e.showActors=t}},getters:{selectedActros:function(e){return e.actors.map(function(e){return{id:e.actorId,name:e.name,age:e.age,selected:!1}})},lastId:function(e){return 0===e.actors.length?0:e.actors[e.actors.length-1].actorId}}};s.a.use(u.a);var U=new u.a.Store({modules:{movies:T,actors:P}});s.a.use(c.b),c.a.extend("releasYear",{getMessage:function(e,t){return"The  "+e+" must be from "+o()(t,1)[0]+" to "+(new Date).getFullYear()},validate:function(e,t){var r=o()(t,1)[0];return parseInt((new Date).getFullYear())>=parseInt(e)&&parseInt(e)>=parseInt(r)}}),c.a.extend("age",{getMessage:function(e,t){return"The actor  "+e+" should not bet over "+o()(t,1)[0]},validate:function(e,t){var r=o()(t,1)[0];return parseInt(r)>parseInt(e)}}),s.a.config.productionTip=!1,new s.a({render:function(e){return e(n)},router:R,store:U}).$mount("#app")},f7EM:function(e,t){},heYU:function(e,t){},"qa/1":function(e,t){},uwyI:function(e,t){},zyBM:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.037882d6a0c3635eb37a.js.map