webpackJsonp([1],{"5q9v":function(e,t){},Bn0R:function(e,t){},NHnr:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=a("d7EF"),r=a.n(o),s=a("7+uW"),i={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"container"},[t("router-view")],1)},staticRenderFns:[]};var n=a("VU/8")({name:"App"},i,!1,function(e){a("uwyI")},null,null).exports,c=a("sUu7"),l=a("/ocq"),v=a("Dd8w"),d=a.n(v),u=a("NYxO"),m={name:"DeleteActor",props:["Movie","Actor"],computed:d()({},Object(u.d)("movies",{movies:"movies"})),created:function(){this.AllMovies()},methods:d()({cancel:function(){this.$emit("cancel")}},Object(u.b)("movies",["AllMovies","EditMovie","ShowMovies"]),Object(u.b)("actors",["DeleteActor"]),{delActInMv:function(e,t){for(var a=void 0,o=0;o<this.movies.length;o++)e.movieId==this.movies[o].movieId&&(a=this.movies[o]);for(var r=0;r<e.movieActors.length;r++)t.actorId!=e.movieActors[r].actorId&&a.movieActors.push({actorId:e.movieActors[r].actorId,movieId:a.movieId});this.EditMovie(a),this.cancel()},delAct:function(e){this.DeleteActor(e.actorId),this.ShowMovies(),this.cancel()}})},h={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"del",on:{click:function(t){return e.delActInMv(e.Movie,e.Actor)}}},[e._v(" Delete "+e._s(e.Actor.name)+" from "+e._s(e.Movie.title)+" ")]),e._v(" "),a("div",{staticClass:"del",on:{click:function(t){return e.delAct(e.Actor)}}},[e._v("Delete "+e._s(e.Actor.name)+" from all movies ")]),e._v(" "),a("div",{staticClass:"cancel",on:{click:function(t){return e.cancel()}}},[e._v(" Cancel")])])},staticRenderFns:[]};var f=a("VU/8")(m,h,!1,function(e){a("zyBM")},"data-v-00d3cdd6",null).exports,p={name:"DeleteMovie",props:["Movie"],methods:d()({cancel:function(){this.$emit("canceled")}},Object(u.b)("movies",["DeleteMovie"]),{deleteMv:function(e){this.DeleteMovie(e)}})},_={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("h2",[e._v("Do you really want to delete "+e._s(e.Movie.title)+"  ?")]),e._v(" "),a("div",[a("div",{staticClass:"del",on:{click:function(t){return e.deleteMv(e.Movie)}}},[e._v("Yes")]),e._v(" "),a("div",{staticClass:"cancel",on:{click:function(t){return e.cancel()}}},[e._v(" No")])])])},staticRenderFns:[]};var A={components:{deleteMovie:a("VU/8")(p,_,!1,function(e){a("qa/1")},null,null).exports,deleteActor:f},name:"MovieDb",computed:d()({},Object(u.d)("movies",{allMovies:"showMovies"}),Object(u.d)("actors",{allActors:"actors"}),Object(u.d)("actors",{Actors:"showActors"}),{filterMovies:function(){var e=this;switch(this.searchSelect){case"title":return this.allMovies.filter(function(t){return t.title.match(e.search)});case"releasYear":return this.allMovies.filter(function(t){return t.releasYear.toString().match(e.search)});case"genre":return this.allMovies.filter(function(t){return e.genre(t.genre).toLowerCase().match(e.search)});case"movieActors":for(var t=this.Actors.filter(function(t){return t.name.match(e.search)}),a=[],o=0;o<t.length;o++)for(var r=0;r<t[o].movieActors.length;r++)for(var s=function(s){t[o].movieActors[r].movieId===e.allMovies[s].movieId&&null==a.find(function(t){return t.movieId==e.allMovies[s].movieId})&&a.push(e.allMovies[s])},i=0;i<this.allMovies.length;i++)s(i);return""===this.search?this.allMovies:a;default:return this.allMovies}}}),data:function(){return{showDelMv:"",showDelAct:"",showDelActMv:"",search:"",searchSelect:""}},created:function(){this.ShowMovies(),this.ShowActors(),this.AllActors()},methods:d()({actInMv:function(e){for(var t=[],a=0;a<e.movieActors.length;a++)for(var o=0;o<this.allActors.length;o++)e.movieActors[a].actorId==this.allActors[o].actorId&&t.push(this.allActors[o]);return t},delAct:function(e,t){this.showDelAct=t,this.showDelActMv=e},cacelel:function(){this.showDelMv="",this.showDelAct="",this.showDelActMv="",this.ShowMovies()},delMv:function(e){this.showDelMv=e.movieId},navigation:function(e){this.$router.push({name:e})}},Object(u.b)("movies",["ShowMovies"]),Object(u.b)("actors",["ShowActors","AllActors"]),{genre:function(e){switch(e){case 1:return"Action";case 2:return"Fantasy";case 3:return"Drame";default:return"None"}}})},g={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"navigation"},[a("button",{on:{click:function(t){return e.navigation("AddMovie")}}},[e._v("Add new movie")]),e._v(" "),a("button",{on:{click:function(t){return e.navigation("AddActor")}}},[e._v("Add new actor")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.search,expression:"search"}],attrs:{type:"text",placeholder:"Search"},domProps:{value:e.search},on:{input:function(t){t.target.composing||(e.search=t.target.value)}}}),e._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:e.searchSelect,expression:"searchSelect"}],on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.searchSelect=t.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"title"}},[e._v("Title")]),e._v(" "),a("option",{attrs:{value:"releasYear"}},[e._v("Releas Date")]),e._v(" "),a("option",{attrs:{value:"genre"}},[e._v("Genre")]),e._v(" "),a("option",{attrs:{value:"movieActors"}},[e._v("Actor")])])]),e._v(" "),a("table",{staticClass:"table"},[e._m(0),e._v(" "),e._l(e.filterMovies,function(t,o){return a("tbody",{key:o},[a("tr",[a("td",[e._v(e._s(t.title))]),e._v(" "),a("td",[e._v(e._s(t.releasYear))]),e._v(" "),a("td",{staticClass:"genre"},[a("div",[e._v(e._s(e.genre(t.genre)))])]),e._v(" "),a("td",[a("router-link",{staticClass:"edit",attrs:{to:{name:"EditMovie",params:{id:t.movieId}}}},[e._v("edit")]),e._v(" "),a("button",{staticClass:"delete",on:{click:function(a){return e.delMv(t)}}},[e._v("delete")])],1),e._v(" "),a("td",e._l(e.actInMv(t),function(o,r){return a("ul",{key:r,staticClass:"actors"},[a("div",[e._v(e._s(o.name))]),e._v(" "),a("router-link",{staticClass:"edit",attrs:{to:{name:"EditActor",params:{id:o.actorId}}}},[e._v("edit")]),e._v(" "),a("button",{staticClass:"delete",on:{click:function(a){return e.delAct(t.movieId,o.actorId)}}},[e._v("delete")])],1)}),0)]),e._v(" "),t.movieId==e.showDelMv?a("tr",[a("td",{attrs:{colspan:"4"}},[a("deleteMovie",{attrs:{Movie:t},on:{canceled:e.cacelel}})],1)]):e._e(),e._v(" "),e._l(e.actInMv(t),function(o,r){return a("tr",{key:r},[t.movieId==e.showDelActMv&&o.actorId==e.showDelAct?a("td",{attrs:{colspan:"4"}},[a("deleteActor",{attrs:{Movie:t,Actor:o},on:{cancel:function(t){return e.cacelel()}}})],1):e._e()])})],2)})],2)])},staticRenderFns:[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("thead",[a("tr",[a("th",[e._v("Title")]),e._v(" "),a("th",[e._v("Release Date")]),e._v(" "),a("th",[e._v("Genre")]),e._v(" "),a("th"),e._v(" "),a("th",[e._v("Actors")])])])}]};var M=a("VU/8")(A,g,!1,function(e){a("XK+3")},null,null).exports,b={methods:{selectedObj:function(e,t){for(var a=[],o=0;o<e.length;o++)if(!0===e[o].selected)for(var r=0;r<t.length;r++)e[o].id!==t[r].movieId&&e[o].id!==t[r].actorId||a.push(t[r]);return a},select:function(e,t,a){for(var o=0;o<a.length;o++)a[o].hasOwnProperty("actorId")?e.movieActors.push({actorId:a[o].actorId,movieId:1+t}):e.movieActors.push({actorId:t+1,movieId:a[o].movieId});return e},navigation:function(e){this.$router.push({name:e})}}};s.a.use(c.b);var w={name:"AddMovie",data:function(){return{movie:{title:"",releasYear:"",genre:"None",movieActors:[]}}},computed:d()({},Object(u.d)("actors",{allActors:"actors"}),Object(u.c)("actors",{selectedActors:"selectedActros"}),Object(u.c)("movies",{lastId:"lastId"})),mixins:[b],created:function(){this.AllActors(),this.AllMovies()},methods:d()({addMovie:function(e){var t=this,a=this.selectedObj(this.selectedActors,this.allActors);this.$validator.validateAll().then(function(o){o&&(0!=a.length?t.AddMovie(t.select(e,t.lastId,a)):t.AddMovie(e),t.navigation("MovieDb"))})}},Object(u.b)("movies",["AddMovie","AllMovies"]),Object(u.b)("actors",["AllActors"]))},I={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("h1",[e._v("Add Movie")]),e._v(" "),a("form",[a("div",{staticClass:"group"},[a("label",[e._v("Title")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.movie.title,expression:"movie.title"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],class:{"form-control":!0,error:e.errors.has("Title")},attrs:{type:"text",name:"Title"},domProps:{value:e.movie.title},on:{input:function(t){t.target.composing||e.$set(e.movie,"title",t.target.value)}}}),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("Title"),expression:"errors.has('Title')"}],staticClass:"text-danger"},[e._v(e._s(e.errors.first("Title")))])]),e._v(" "),a("div",{staticClass:"group"},[a("label",{staticClass:"control-label",attrs:{for:"Releas Year"}},[e._v("Releas Year")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.movie.releasYear,expression:"movie.releasYear"},{name:"validate",rawName:"v-validate",value:"required|releasYear:1888",expression:"'required|releasYear:1888'"}],staticClass:"form-control",class:{error:e.errors.has("Releas Year")},attrs:{type:"age",name:"Releas Year"},domProps:{value:e.movie.releasYear},on:{input:function(t){t.target.composing||e.$set(e.movie,"releasYear",t.target.value)}}}),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("Releas Year"),expression:"errors.has('Releas Year')"}],staticClass:"text-danger"},[e._v(e._s(e.errors.first("Releas Year")))])]),e._v(" "),a("div",{staticClass:"group"},[a("label",[e._v("Genre")]),e._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:e.movie.genre,expression:"movie.genre"}],on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.$set(e.movie,"genre",t.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"None"}},[e._v("None")]),e._v(" "),a("option",{attrs:{value:"Action"}},[e._v("Action")]),e._v(" "),a("option",{attrs:{value:"Fantasy"}},[e._v("Fantasy")]),e._v(" "),a("option",{attrs:{value:"Drama"}},[e._v("Drama")])])]),e._v(" "),a("h2",[e._v("Actors")]),e._v(" "),e._l(e.selectedActors,function(t,o){return a("div",{key:o,staticClass:"group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.selected,expression:"actor.selected"}],attrs:{type:"checkbox",id:t.id},domProps:{checked:Array.isArray(t.selected)?e._i(t.selected,null)>-1:t.selected},on:{change:function(a){var o=t.selected,r=a.target,s=!!r.checked;if(Array.isArray(o)){var i=e._i(o,null);r.checked?i<0&&e.$set(t,"selected",o.concat([null])):i>-1&&e.$set(t,"selected",o.slice(0,i).concat(o.slice(i+1)))}else e.$set(t,"selected",s)}}}),e._v(" "),a("label",{attrs:{for:t.id}},[e._v(e._s(t.name))])])}),e._v(" "),a("button",{staticClass:"add",attrs:{type:"button"},on:{click:function(t){return e.addMovie(e.movie)}}},[e._v("Add movie")]),e._v(" "),a("button",{staticClass:"cancel",attrs:{type:"button"},on:{click:function(t){return e.navigation("MovieDb")}}},[e._v("Cancel")])],2)])},staticRenderFns:[]};var x=a("VU/8")(w,I,!1,function(e){a("aFfr")},null,null).exports,y=a("//Fk"),C=a.n(y);s.a.use(c.b);var N={name:"AddActor",computed:d()({},Object(u.d)("movies",{allMovies:"movies"}),Object(u.c)("movies",{selectedMovies:"selectedMovies"}),Object(u.c)("actors",{lastId:"lastId"})),data:function(){return{actor:{movieActors:[]}}},mixins:[b],created:function(){this.AllMovies(),this.AllActors()},methods:d()({addActor:function(e){var t=this,a=this.selectedObj(this.selectedMovies,this.allMovies);this.$validator.validateAll().then(function(o){if(o){var r=t,s=new C.a(function(t,o){0!=a.length?r.AddActor(r.select(e,r.lastId,a)):r.AddActor(e),t()}),i=new C.a(function(e,t){e(r.ShowMovies())});s.then(function(){i.then(function(){t.navigation("MovieDb")})})}})}},Object(u.b)("actors",["AddActor","AllActors"]),Object(u.b)("movies",["AllMovies","ShowMovies"]))},k={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("h1",[e._v("Add Actor")]),e._v(" "),a("form",[a("div",{staticClass:"group"},[a("label",[e._v("Name")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.actor.name,expression:"actor.name"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],class:{error:e.errors.has("Name")},attrs:{type:"text",name:"Name"},domProps:{value:e.actor.name},on:{input:function(t){t.target.composing||e.$set(e.actor,"name",t.target.value)}}}),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("Name"),expression:"errors.has('Name')"}],staticClass:"text-danger"},[e._v(e._s(e.errors.first("Name")))])]),e._v(" "),a("div",{staticClass:"group"},[a("label",[e._v("Age")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.actor.age,expression:"actor.age"},{name:"validate",rawName:"v-validate",value:"required|age:86",expression:"'required|age:86'"}],class:{error:e.errors.has("Age")},attrs:{type:"age",name:"Age"},domProps:{value:e.actor.age},on:{input:function(t){t.target.composing||e.$set(e.actor,"age",t.target.value)}}}),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("Age"),expression:"errors.has('Age')"}],staticClass:"text-danger"},[e._v(e._s(e.errors.first("Age")))])]),e._v(" "),a("h2",[e._v("Movies")]),e._v(" "),e._l(e.selectedMovies,function(t,o){return a("div",{key:o,staticClass:"group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.selected,expression:"movie.selected"}],attrs:{type:"checkbox",id:t.id},domProps:{checked:Array.isArray(t.selected)?e._i(t.selected,null)>-1:t.selected},on:{change:function(a){var o=t.selected,r=a.target,s=!!r.checked;if(Array.isArray(o)){var i=e._i(o,null);r.checked?i<0&&e.$set(t,"selected",o.concat([null])):i>-1&&e.$set(t,"selected",o.slice(0,i).concat(o.slice(i+1)))}else e.$set(t,"selected",s)}}}),e._v(" "),a("label",{attrs:{for:t.id}},[e._v(e._s(t.title))])])}),e._v(" "),a("button",{staticClass:"add",attrs:{type:"button"},on:{click:function(t){return e.addActor(e.actor)}}},[e._v("Add Actor")]),e._v(" "),a("button",{staticClass:"cancel",attrs:{type:"button"},on:{click:function(t){return e.navigation("MovieDb")}}},[e._v("Cancel")])],2)])},staticRenderFns:[]};var D=a("VU/8")(N,k,!1,function(e){a("XP/q")},null,null).exports;s.a.use(c.b);var $={name:"EditMovie",computed:d()({},Object(u.d)("movies",{ShowMovies:"showMovies"}),Object(u.d)("actors",{allActors:"actors"}),{mv:function(){var e=this;return this.ShowMovies.find(function(t){return t.movieId===e.$route.params.id})}},Object(u.c)("actors",{selectedActors:"selectedActros"})),data:function(){return{movie:{}}},mixins:[b],beforeMount:function(){this.values()},beforeUpdate:function(){this.selectedAct()},methods:d()({selectedAct:function(){for(var e=this,t=function(t){e.selectedActors.forEach(function(a){e.mv.movieActors[t].actorId===a.id&&(a.selected=!0)})},a=0;a<this.mv.movieActors.length;a++)t(a)},Edit:function(e){var t=this,a=this.selectedObj(this.selectedActors,this.allActors),o=this.movie.movieId-1;this.$validator.validateAll().then(function(r){r&&(t.EditMovie(t.select(e,o,a)),t.navigation("MovieDb"))})},genre:function(e){switch(e){case 1:return this.Genre="Action";case 2:return this.Genre="Fantasy";case 3:return this.Genre="Drame";default:return this.Genre="None"}},values:function(){this.movie.movieId=this.mv.movieId,this.movie.title=this.mv.title,this.movie.releasYear=this.mv.releasYear,this.movie.genre=this.genre(this.mv.genre),this.movie.movieActors=[]}},Object(u.b)("movies",["EditMovie"]))},Y={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("h1",[e._v("Edit Movie")]),e._v(" "),a("form",[a("div",{staticClass:"group"},[a("label",[e._v("Title")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.movie.title,expression:"movie.title"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control",class:{"form-control":!0,error:e.errors.has("Title")},attrs:{type:"text",name:"Title"},domProps:{value:e.movie.title},on:{input:function(t){t.target.composing||e.$set(e.movie,"title",t.target.value)}}}),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("Title"),expression:"errors.has('Title')"}],staticClass:"text-danger"},[e._v(e._s(e.errors.first("Title")))])]),e._v(" "),a("div",{staticClass:"group"},[a("label",[e._v("Release Year")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.movie.releasYear,expression:"movie.releasYear"},{name:"validate",rawName:"v-validate",value:"required|releasYear:1888",expression:"'required|releasYear:1888'"}],staticClass:"form-control",class:{"form-control":!0,error:e.errors.has("Releas Year")},attrs:{name:"Releas Year",type:"age"},domProps:{value:e.movie.releasYear},on:{input:function(t){t.target.composing||e.$set(e.movie,"releasYear",t.target.value)}}}),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("Releas Year"),expression:"errors.has('Releas Year')"}],staticClass:"text-danger"},[e._v(e._s(e.errors.first("Releas Year")))])]),e._v(" "),a("div",{staticClass:"group"},[a("label",{staticClass:"input-group-text"},[e._v("Genre")]),e._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:e.movie.genre,expression:"movie.genre"}],staticClass:"custom-select",on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.$set(e.movie,"genre",t.target.multiple?a:a[0])}}},[a("option",[e._v("None")]),e._v(" "),a("option",[e._v("Action")]),e._v(" "),a("option",[e._v("Fantasy")]),e._v(" "),a("option",[e._v("Drama")])])]),e._v(" "),a("h2",[e._v("Actors")]),e._v(" "),e._l(e.selectedActors,function(t,o){return a("div",{key:o,staticClass:"group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.selected,expression:"actor.selected"}],attrs:{type:"checkbox",id:t.id},domProps:{checked:t.selected,checked:Array.isArray(t.selected)?e._i(t.selected,null)>-1:t.selected},on:{change:function(a){var o=t.selected,r=a.target,s=!!r.checked;if(Array.isArray(o)){var i=e._i(o,null);r.checked?i<0&&e.$set(t,"selected",o.concat([null])):i>-1&&e.$set(t,"selected",o.slice(0,i).concat(o.slice(i+1)))}else e.$set(t,"selected",s)}}}),e._v(" "),a("label",{attrs:{for:t.id}},[e._v(e._s(t.name))])])}),e._v(" "),a("div",[a("button",{staticClass:"edit",attrs:{type:"button"},on:{click:function(t){return e.Edit(e.movie)}}},[e._v("Edit")]),e._v(" "),a("button",{staticClass:"cancel",attrs:{type:"button"},on:{click:function(t){return e.navigation("MovieDb")}}},[e._v("Cancel")])])],2)])},staticRenderFns:[]};var O=a("VU/8")($,Y,!1,function(e){a("5q9v")},null,null).exports;s.a.use(c.b);var j={name:"EditActor",computed:d()({},Object(u.d)("actors",{Actors:"showActors"}),Object(u.d)("movies",{allMovies:"movies"}),{act:function(){var e=this,t=this.Actors.find(function(t){return t.actorId===e.$route.params.id});return t}},Object(u.c)("movies",{selectedMovies:"selectedMovies"})),data:function(){return{actor:{}}},mixins:[b],created:function(){this.AllMovies()},beforeMount:function(){this.values()},beforeUpdate:function(){this.selectedMv()},methods:d()({editAct:function(e){var t=this,a=this.selectedObj(this.selectedMovies,this.allMovies),o=this.actor.actorId-1;this.$validator.validateAll().then(function(r){if(r){var s=t;new C.a(function(t,r){t(s.EditActor(s.select(e,o,a)))}).then(function(){return t.navigation("MovieDb")})}})},values:function(){this.actor.actorId=this.act.actorId,this.actor.name=this.act.name,this.actor.age=this.act.age,this.actor.movieActors=[]}},Object(u.b)("actors",["EditActor"]),Object(u.b)("movies",["AllMovies"]),{selectedMv:function(){for(var e=this,t=function(t){e.selectedMovies.forEach(function(a){e.act.movieActors[t].movieId===a.id&&(a.selected=!0)})},a=0;a<this.act.movieActors.length;a++)t(a)}})},E={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("h1",[e._v("Edit Actor")]),e._v(" "),a("form",[a("div",{staticClass:"group"},[a("label",[e._v("Name")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.actor.name,expression:"actor.name"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control",class:{error:e.errors.has("Name")},attrs:{type:"text",name:"Name"},domProps:{value:e.actor.name},on:{input:function(t){t.target.composing||e.$set(e.actor,"name",t.target.value)}}}),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("Name"),expression:"errors.has('Name')"}],staticClass:"text-danger"},[e._v(e._s(e.errors.first("Name")))])]),e._v(" "),a("div",{staticClass:"group"},[a("label",[e._v("Age")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.actor.age,expression:"actor.age"},{name:"validate",rawName:"v-validate",value:"required|age:86",expression:"'required|age:86'"}],staticClass:"form-control",class:{"form-control":!0,error:e.errors.has("Age")},attrs:{name:"Age",type:"age"},domProps:{value:e.actor.age},on:{input:function(t){t.target.composing||e.$set(e.actor,"age",t.target.value)}}}),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("Age"),expression:"errors.has('Age')"}],staticClass:"text-danger"},[e._v(e._s(e.errors.first("Age")))])]),e._v(" "),a("h2",[e._v("Movies")]),e._v(" "),e._l(e.selectedMovies,function(t,o){return a("div",{key:o,staticClass:"group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.selected,expression:"movie.selected"}],attrs:{type:"checkbox",id:t.id},domProps:{checked:t.selected,checked:Array.isArray(t.selected)?e._i(t.selected,null)>-1:t.selected},on:{change:function(a){var o=t.selected,r=a.target,s=!!r.checked;if(Array.isArray(o)){var i=e._i(o,null);r.checked?i<0&&e.$set(t,"selected",o.concat([null])):i>-1&&e.$set(t,"selected",o.slice(0,i).concat(o.slice(i+1)))}else e.$set(t,"selected",s)}}}),e._v(" "),a("label",{attrs:{for:t.id}},[e._v(e._s(t.title))])])}),e._v(" "),a("button",{staticClass:"edit",attrs:{type:"button"},on:{click:function(t){return e.editAct(e.actor)}}},[e._v("Edit Actor")]),e._v(" "),a("button",{staticClass:"cancel",attrs:{type:"button"},on:{click:function(t){return e.navigation("MovieDb")}}},[e._v("Cancel")])],2)])},staticRenderFns:[]};var R=a("VU/8")(j,E,!1,function(e){a("Bn0R")},null,null).exports;s.a.use(l.a);var S=new l.a({mode:"history",routes:[{path:"/",name:"MovieDb",component:M},{path:"/addmovie",name:"AddMovie",component:x},{path:"/addactor",name:"AddActor",component:D},{path:"/editmovie/:id",name:"EditMovie",component:O},{path:"/editactor/:id",name:"EditActor",component:R}]}),q=a("mtWM"),F=a.n(q),P={namespaced:!0,state:{movies:[],showMovies:[]},actions:{AddMovie:function(e,t){var a=e.dispatch;F.a.post("https://localhost:44365/api/movies",t).then(function(){return a("ShowMovies")})},AllMovies:function(e){var t=e.commit;F.a.get("https://localhost:44365/api/movies").then(function(e){return t("allMovies",e.data)})},ShowMovies:function(e){var t=e.commit;return new C.a(function(e){F.a.get("https://localhost:44365/api/movies/all").then(function(a){t("loadMovies",a.data),e("Done")})})},EditMovie:function(e,t){var a=e.dispatch,o="https://localhost:44365/api/movies/"+t.movieId;F.a.put(o,t).then(function(){return a("ShowMovies")})},DeleteMovie:function(e,t){var a=e.dispatch,o="https://localhost:44365/api/movies/"+t.movieId;F.a.delete(o).then(function(){return a("ShowMovies")})}},getters:{lastId:function(e){return 0===e.movies.length?0:e.movies[e.movies.length-1].movieId},selectedMovies:function(e){return e.movies.map(function(e){return{id:e.movieId,title:e.title,releasYear:e.releasYear,genre:e.genre,selected:!1}})}},mutations:{allMovies:function(e,t){e.movies=t},addMovie:function(e,t){e.movies.push(t)},loadMovies:function(e,t){e.showMovies=t}}},T={namespaced:!0,state:{actors:[],showActors:[]},actions:{AddActor:function(e,t){var a=e.dispatch;F.a.post("https://localhost:44365/api/actors",t).then(function(){return a("AllActors")})},AllActors:function(e){var t=e.commit;F.a.get("https://localhost:44365/api/actors").then(function(e){return t("allActors",e.data)})},ShowActors:function(e){var t=e.commit;F.a.get("https://localhost:44365/api/actors/all").then(function(e){return t("showActors",e.data)})},DeleteActor:function(e,t){var a=e.dispatch,o="https://localhost:44365/api/actors/"+t;F.a.delete(o).then(function(){return a("AllActors")})},EditActor:function(e,t){var a=e.dispatch;return new C.a(function(e){var o="https://localhost:44365/api/actors/"+t.actorId;F.a.put(o,t).then(function(){a("ShowActors","AllActors"),e("Done")})})}},mutations:{allActors:function(e,t){e.actors=t},showActors:function(e,t){e.showActors=t}},getters:{selectedActros:function(e){return e.actors.map(function(e){return{id:e.actorId,name:e.name,age:e.age,selected:!1}})},lastId:function(e){return 0===e.actors.length?0:e.actors[e.actors.length-1].actorId}}};s.a.use(u.a);var U=new u.a.Store({modules:{movies:P,actors:T}});s.a.use(c.b),c.a.extend("releasYear",{getMessage:function(e,t){return"The  "+e+" must be from "+r()(t,1)[0]+" to "+(new Date).getFullYear()},validate:function(e,t){var a=r()(t,1)[0];return parseInt((new Date).getFullYear())>=parseInt(e)&&parseInt(e)>=parseInt(a)}}),c.a.extend("age",{getMessage:function(e,t){return"The actor  "+e+" should not bet over "+r()(t,1)[0]},validate:function(e,t){var a=r()(t,1)[0];return parseInt(a)>parseInt(e)}}),s.a.config.productionTip=!1,new s.a({render:function(e){return e(n)},router:S,store:U}).$mount("#app")},"XK+3":function(e,t){},"XP/q":function(e,t){},aFfr:function(e,t){},"qa/1":function(e,t){},uwyI:function(e,t){},zyBM:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.793e2483b4ce36995e0a.js.map